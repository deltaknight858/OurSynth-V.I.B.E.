"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7573],{37573:function(e,t,i){i.d(t,{Z:function(){return C}});var a=i(19512),s=i(10959),n=i(76546),r=i(40302),l=i(85772),o=i(86453),d=i(16124),c=i(30362),u=i(19935),m=i(40808),f=i(37359),p=i(78102),x=i(39766),h=i(45185),v=i(24405),g=i(29271),b=i(8438),w=i(46623),j=i(85256),y=i(42043),N=i(11984),k=i(8389);let E="cades_stored_project_description",S={active:{scale:1.1,transition:{type:"tween",duration:.2}},inactive:{scale:1}};function _(){return(0,a.jsx)("div",{className:"mt-2 w-full sm:mt-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-5xl px-2 sm:px-6",children:[(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsxs)("div",{className:"relative grid w-[280px] grid-cols-2 rounded-full bg-blue-500/70 p-[2px] shadow-md",children:[(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"absolute h-full w-1/2 rounded-full bg-purple-500 shadow-sm ring-1 ring-pink-500/50 dark:bg-purple-600 dark:ring-white/50"})}),(0,a.jsxs)("div",{className:"relative z-10 flex h-9 items-center justify-center gap-1.5 px-4",children:[(0,a.jsx)(g.O,{className:"size-3.5 rounded-full"}),(0,a.jsx)(g.O,{className:"h-4 w-16 rounded-full"})]}),(0,a.jsxs)("div",{className:"relative z-10 flex h-9 items-center justify-center gap-1.5 px-4",children:[(0,a.jsx)(g.O,{className:"size-3.5 rounded-full"}),(0,a.jsx)(g.O,{className:"h-4 w-16 rounded-full"})]})]})}),(0,a.jsx)("div",{className:"relative rounded-lg px-[3px] pb-[5px] pt-[3px] shadow-lg",style:{background:"linear-gradient(to bottom right, #3b82f6, #8b5cf6, #ec4899)"},children:(0,a.jsxs)("div",{className:"relative size-full rounded-lg bg-white p-3 dark:bg-gray-900 sm:p-4",children:[(0,a.jsx)(g.O,{className:"mb-4 min-h-32 w-full rounded-lg sm:min-h-40"}),(0,a.jsx)("div",{className:"mt-4 flex w-full justify-center",children:(0,a.jsx)(g.O,{className:"h-[42px] w-full rounded-xl sm:w-1/2"})})]})})]})})}function z(e){var t,i;let{description:g,setDescription:z,projectType:C,setProjectType:L,forceLightMode:M,showSkeleton:P=!1,showBudgetError:I=!0}=e,R=(0,f.useRouter)(),{currentTeam:T}=(0,h.t)(),[A,O]=(0,s.useState)(!1),[U,V]=(0,s.useState)(""),[Z,B]=(0,s.useState)(!1),D=(0,w.RP)(),F=I&&null!==(t=null==D?void 0:D.remainingBudget)&&void 0!==t?t:1,W=!!I&&null!==(i=null==D?void 0:D.isLoading)&&void 0!==i&&i,Y=(0,j.d)();(0,s.useEffect)(()=>{B(""!==g.trim())},[g]),(0,s.useEffect)(()=>{let e=localStorage.getItem(E);e&&!g&&(z(e),localStorage.removeItem(E))},[z,g]);let K=(0,s.useCallback)(()=>{g.trim()&&localStorage.setItem(E,g)},[g]),q=(0,s.useMemo)(()=>({description:g,currentTeam:T,router:R,storeDescription:K,projectType:C}),[g,T,R,K,C]),G=(0,s.useCallback)(async()=>{var e,t,i,a,s,r,o,d,c,u,m,f,p,x;if(V(""),!g.trim()){V("Project description is required");return}O(!0);try{let s=await l.default.get("/api/auth/check");if(!(null===(e=s.data)||void 0===e?void 0:e.authenticated)){K(),R.push("/sign-in");return}if("/"===window.location.pathname){K(),R.push("/home");return}(0,n.sendGAEvent)("event",y.hq,{description:g,team_id:null==T?void 0:T.id,user_id:null===(t=N.I.currentUser)||void 0===t?void 0:t.uid,source:"hero_section"});let r=await l.default.post("/api/projects",{description:g,teamId:null!==(i=null==T?void 0:T.id)&&void 0!==i?i:"",projectType:C});if(null!=r.data){let{data:e}=r.data;(0,n.sendGAEvent)("event",y.K4,{project_id:e.id,description:g,team_id:null==T?void 0:T.id,project_type:C,user_id:null===(a=N.I.currentUser)||void 0===a?void 0:a.uid}),null!=e.id&&("website"===C?R.push("websites/".concat(e.id)):R.push("projects/".concat(e.id)))}}catch(e){if(console.error(e),l.default.isAxiosError(e)){if((null===(s=e.response)||void 0===s?void 0:s.status)===401)K(),R.push("/sign-in");else if((null===(r=e.response)||void 0===r?void 0:r.status)===403&&((null===(d=e.response)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:o.code)==="free_account_disabled"||(null===(u=e.response)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:c.code)==="free_tier_limit"||(null===(f=e.response)||void 0===f?void 0:null===(m=f.data)||void 0===m?void 0:m.code)==="trial_expired")){if(!(null==T?void 0:T.id)){console.error("Team data not available");return}"/home"===window.location.pathname?window.dispatchEvent(new Event("show-free-account-dialog")):alert((null===(x=e.response)||void 0===x?void 0:null===(p=x.data)||void 0===p?void 0:p.error)||"Please upgrade your account to continue creating projects.")}}}finally{O(!1)}},[q]);return((0,s.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&G()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[G]),P||I&&W)?(0,a.jsx)(_,{}):I&&F<=0?(0,a.jsx)("div",{className:"mt-2 w-full sm:mt-4",children:(0,a.jsx)("div",{className:"mx-auto max-w-5xl px-2 sm:px-6",children:(0,a.jsx)("div",{className:"relative rounded-lg px-[3px] pb-[5px] pt-[3px] shadow-lg",style:{background:"linear-gradient(to bottom right, #3b82f6, #8b5cf6, #ec4899)",minHeight:"259.5px"},children:(0,a.jsxs)("div",{className:"relative flex size-full flex-col items-center justify-center rounded-lg bg-white p-3 dark:bg-gray-900 sm:p-4",style:{minHeight:"calc(259.5px - 16px)"},children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Add More Budget"}),(0,a.jsx)("p",{className:"mb-6 text-center text-gray-600 dark:text-gray-300",children:"You've used up your current budget for the team. To continue creating projects, please add more budget in the billing page."}),(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(m.default,{href:"/billing",className:"w-full sm:w-1/2",children:(0,a.jsx)(v.z,{className:"flex w-full items-center justify-center gap-2 py-4",children:"Add Budget"})})})]})})})}):(0,a.jsx)("div",{className:"mt-2 w-full sm:mt-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-5xl px-2 sm:px-6",children:[(0,a.jsx)(b.mQ,{defaultValue:"mobile",value:C,onValueChange:e=>{L(e)},className:"mb-4 flex justify-center",children:(0,a.jsxs)(b.dr,{className:"relative grid w-[280px] grid-cols-2 rounded-full bg-blue-500/70 p-[2px] shadow-md",children:[Y?(0,a.jsx)("div",{className:(0,k.cn)("absolute h-full w-1/2 rounded-full bg-purple-500 shadow-sm ring-1 ring-pink-500/50 transition-transform duration-0",!M&&"dark:bg-purple-600 dark:ring-white/50"),style:{transform:"translateX(".concat("website"===C?"100%":"0%",")")}}):(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:(0,a.jsx)(o.E.div,{layoutId:"tab-background",className:(0,k.cn)("absolute h-full w-1/2 rounded-full bg-purple-500 shadow-sm ring-1 ring-pink-500/50",!M&&"dark:bg-purple-600 dark:ring-white/50"),animate:{x:"website"===C?"100%":"0%"},transition:{type:"spring",stiffness:400,damping:30}})}),(0,a.jsxs)(b.SP,{value:"mobile",activeClassName:(0,k.cn)("data-[state=active]:bg-purple-500",!M&&"dark:data-[state=active]:bg-purple-600"),className:(0,k.cn)("relative z-10 flex h-9 items-center justify-center gap-1.5 px-4",Y?"transition-none":"transition-all duration-200","data-[state=active]:shadow-sm"),children:[(0,a.jsx)(o.E.div,{variants:S,animate:Y||"mobile"!==C?"inactive":"active",className:"flex items-center justify-center",children:(0,a.jsx)(r.pY8,{className:(0,k.cn)("size-3.5","sm:transition-colors sm:duration-200","mobile"===C?"text-white":"text-white drop-shadow-sm")})}),(0,a.jsx)("span",{className:(0,k.cn)("text-sm font-medium no-select","sm:transition-all sm:duration-200","mobile"===C?"text-white font-bold":"text-white/90 drop-shadow-sm"),children:"Mobile App"})]}),(0,a.jsxs)(b.SP,{value:"website",disabled:!1,className:(0,k.cn)("relative z-10 flex h-9 items-center justify-center gap-1.5 px-4",Y?"transition-none":"transition-all duration-200","data-[state=active]:shadow-sm",!1),children:[(0,a.jsx)(o.E.div,{variants:S,animate:Y||"website"!==C?"inactive":"active",className:"flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:(0,k.cn)("size-3.5","sm:transition-colors sm:duration-200","website"===C?"text-white":"text-white drop-shadow-sm")})}),(0,a.jsxs)("span",{className:(0,k.cn)("text-sm font-medium no-select","sm:transition-all sm:duration-200","website"===C?"text-white font-bold":"text-white/90 drop-shadow-sm"),children:["Website",!1]})]})]})}),(0,a.jsx)("div",{className:"relative rounded-lg px-[3px] pb-[5px] pt-[3px] shadow-lg",style:{background:"linear-gradient(to bottom right, #3b82f6, #8b5cf6, #ec4899)"},children:(0,a.jsxs)("div",{className:(0,k.cn)("relative size-full rounded-lg p-3 sm:p-4",M?"bg-white":"bg-white dark:bg-gray-900"),children:[(0,a.jsx)(p.Z,{minRows:4,maxRows:6,maxLength:x.lS,className:(0,k.cn)("w-full bg-transparent border-none focus:outline-none resize-none min-h-[8rem] sm:min-h-[10rem]","placeholder:text-gray-400",M?"text-gray-800":"text-gray-800 dark:text-white"),placeholder:"mobile"===C?"Create a mobile app for...":"Create a website for...",translate:"no",value:g,onChange:e=>z(e.target.value),"data-clarity-unmask":!0}),(0,a.jsx)("div",{className:"mt-4 flex w-full justify-center",children:(0,a.jsxs)(v.z,{onClick:G,className:(0,k.cn)("w-full sm:w-1/2 transition-all duration-300 flex items-center justify-center gap-2 py-4 relative overflow-hidden rounded-xl",Z?(0,k.cn)("text-white bg-purple-500 hover:bg-purple-600",!M&&"dark:bg-purple-600 dark:hover:bg-purple-500",'before:absolute before:content-[""] before:top-0 before:left-0 before:w-full before:h-full before:bg-gradient-to-r before:from-transparent group before:via-white/30 before:to-transparent before:animate-button-shine before:translate-x-[-100%]'):"bg-gray-200 text-gray-400 cursor-not-allowed"),disabled:A||!Z,"aria-label":"Create ".concat("mobile"===C?"mobile app":"website"),children:[A?(0,a.jsx)(c.Z,{className:"size-5 animate-spin"}):(0,a.jsx)(u.Z,{className:"size-5 group-hover:animate-sparkle-spin"}),(0,a.jsxs)("span",{className:"no-select text-base font-medium",children:["Create ","mobile"===C?"Mobile App":"Website"]})]})}),U&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:U})]})})]})})}function C(e){let{forceLightMode:t,showSkeleton:i=!1,showBudgetError:n=!1}=e,[r,l]=(0,s.useState)(""),[o,d]=(0,s.useState)("mobile");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(z,{description:r,setDescription:l,projectType:o,setProjectType:d,forceLightMode:t,showSkeleton:i,showBudgetError:n})})}},29271:function(e,t,i){i.d(t,{O:function(){return n}});var a=i(19512),s=i(8389);function n(e){let{className:t,...i}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",t),...i})}},8438:function(e,t,i){i.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return l},nU:function(){return c}});var a=i(19512),s=i(36359),n=i(10959),r=i(8389);let l=s.fC,o=n.forwardRef((e,t)=>{let{className:i,activeTabClassName:l,...o}=e,d=(0,n.useMemo)(()=>(0,r.cn)("flex space-x-2 rounded-full bg-transparent p-0",i),[i]);return(0,a.jsx)(s.aV,{ref:t,className:d,...o})});o.displayName=s.aV.displayName;let d=n.forwardRef((e,t)=>{let{className:i,activeClassName:l,...o}=e,d=(0,n.useMemo)(()=>(0,r.cn)("relative flex items-center justify-center whitespace-nowrap rounded-full px-3 py-1 text-sm font-medium disabled:pointer-events-none disabled:opacity-50",l&&l,i),[i,l]);return(0,a.jsx)(s.xz,{ref:t,className:d,...o})});d.displayName=s.xz.displayName;let c=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...n})});c.displayName=s.VY.displayName},46623:function(e,t,i){i.d(t,{RP:function(){return r},dP:function(){return n}});var a=i(45185),s=i(10959);function n(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})}function r(){var e;let[t,i]=(0,s.useState)(0),[n,r]=(0,s.useState)(0),[l,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),u=(0,a.t)(),m=(0,s.useCallback)(async()=>{var e;if(!(null==u?void 0:null===(e=u.currentTeam)||void 0===e?void 0:e.id)){o(!1);return}try{o(!0),c(null);let e=await fetch("/api/llmliteteam/".concat(u.currentTeam.id));if(!e.ok)throw Error("Failed to fetch team info");let t=await e.json();i(t.remaining_tokens),r(t.remaining_budget)}catch(e){c(e instanceof Error?e:Error("Unknown error occurred")),console.error("Error fetching team info:",e)}finally{o(!1)}},[null==u?void 0:null===(e=u.currentTeam)||void 0===e?void 0:e.id]);return(0,s.useEffect)(()=>{m()},[m]),{remainingTokens:t,remainingBudget:n,isLoading:l,error:d,refreshLLMTeamInfo:m}}},85256:function(e,t,i){i.d(t,{d:function(){return s}});var a=i(10959);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[t,i]=a.useState(void 0);return a.useEffect(()=>{let t=window.matchMedia("(max-width: ".concat(e-1,"px)")),a=()=>{i(window.innerWidth<e)};return t.addEventListener("change",a),i(window.innerWidth<e),()=>t.removeEventListener("change",a)},[e]),!!t}}}]);